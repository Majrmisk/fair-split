<UserControl x:Class="FairSplit.Views.Components.NewTransactionView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:FairSplit.Views.Components" xmlns:viewmodels="clr-namespace:FairSplit.ViewModels.Components" d:DataContext="{d:DesignInstance Type=viewmodels:NewTransactionViewModel}"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="500">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition/>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <Label Style="{StaticResource BasicLabelStyle}" 
                   Content="Name"
                   Margin="20 0 0 0"
                   HorizontalAlignment="Left"
                   VerticalContentAlignment="Center"
                   FontSize="20"/>
            <TextBox Text="{Binding Name}" Grid.ColumnSpan="3" Padding="5" HorizontalContentAlignment="Left" Grid.Column="1" Margin="8 8 8 8"/>

            <Label Style="{StaticResource BasicLabelStyle}" 
                   Content="Category" 
                   Margin="20 0 0 0"
                   HorizontalAlignment="Left"
                   VerticalContentAlignment="Center"
                   Grid.Row="1"
                   FontSize="20"/>
            <ComboBox ItemsSource="{Binding CategoryOptions}" 
                      SelectedItem="{Binding SelectedCategory}" 
                      Grid.Row="1" 
                      Grid.Column="1" 
                      Margin="8 0 8 0"
                      Padding="8 0 0 0"/>
            <Label Grid.Column="2" Grid.Row="1"
                   Style="{StaticResource BasicLabelStyle}" 
                   Content="Date" 
                   Margin="20 0 0 0"
                   HorizontalAlignment="Left"
                   VerticalContentAlignment="Center"
                   FontSize="20"/>
            <DatePicker Grid.Column="3" Grid.Row="1" SelectedDate="{Binding SelectedDate}"
                        Margin="8 0 8 0">
            </DatePicker>
        </Grid>

        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <Label Style="{StaticResource BasicLabelStyle}" 
                   Content="Items"
                   Margin="20 0 0 -5"
                   HorizontalAlignment="Left"
                   VerticalContentAlignment="Bottom"
                   FontSize="20"/>
            <DataGrid ItemsSource="{Binding TransactionDataTable}"
                      CanUserAddRows="True"
                      HorizontalContentAlignment="Center"
                      Margin="8 0 8 0"
                      Grid.Row="1"
                      ColumnWidth="*"
                      CanUserReorderColumns="False"
                      CanUserSortColumns="False"
                      CanUserResizeColumns="False"
                      GridLinesVisibility="None"
                      ScrollViewer.HorizontalScrollBarVisibility="Disabled">
            </DataGrid>
        </Grid>

        <ItemsControl Grid.Row="2" ItemsSource="{Binding ColumnTotals}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <UniformGrid Columns="{Binding TransactionDataTable.Columns.Count}" />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Label Style="{StaticResource BasicLabelStyle}" FontSize="18" Content="{Binding}" HorizontalAlignment="Center"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <Grid Grid.Row="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition/>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="100"/>
            </Grid.ColumnDefinitions>

            <Label Style="{StaticResource BasicLabelStyle}" 
                   Content="TOTAL:"
                   Margin="8"/>
            <Label Style="{StaticResource BasicLabelStyle}" 
                   Content="{Binding Total}"
                   HorizontalContentAlignment="Left"
                   Grid.Column="1"/>
            <Button Command="{Binding AddCommand}" Grid.Column="2" Margin="8" Content="Add" Background="#FF1A371D"/>
            <Button Command="{Binding CancelCommand}" Grid.Column="3" Margin="8" Content="Cancel"/>

        </Grid>
    </Grid>
</UserControl>
